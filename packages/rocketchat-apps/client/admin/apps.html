<!-- {{#requiresPermission 'manage-apps'}}
	<div class="rc-discovery">
		<div class="rc-discovery-wrap">
			{{#each apps}}
				<div class="rc-discovery__item">
					<div class="rc-discovery__item-image-wrap">
						<div class="rc-discovery__item-image" style="background-image: url({{ iconFileContent }})"></div>
					</div>
					<div class="rc-discovery__item-footer">
						<div class="rc-discovery__container">
							<div class="discovery__item-footer-title">{{name}}</div>
							<div class="rc-discovery__item-footer-description">{{description}}</div>
						</div>
						<button class="rc-button rc-button-square rc-tooltip manage" aria-label="{{_ "Manage_the_App"}}">
							{{> icon icon="cog"}}
						</button>
					</div>
				</div>
			{{/each}}
		</div>
	</div>
{{/requiresPermission}} -->

<template name="apps">
	{{#requiresPermission 'manage-apps'}}
		<section class="rc-directory">
			{{# header sectionName="Manage_Apps" hideHelp=true}}
			<div class="rc-directory-header">
				<div class="rc-input rc-input--small rc-directory-search">
					<label class="rc-input__label">
						<div class="rc-input__wrapper">
							{{> icon icon="magnifier" block="rc-input__icon" }}
							<input type="text" class="rc-input__element rc-input__element--small js-search" name="message-search" id="message-search" placeholder="{{_ 'Search'}}" autocomplete="off">
						</div>
					</label>
				</div>

				<select class="rc-input__element rc-directory-selector js-typeSelector" name="type">
					<option value="all">all</option>
					<option value="active">active</option>
					<option value="inactive">inacvtive</option>
				</select>

				<a href='/admin/app/install' class="rc-button rc-button--small rc-button--primary rc-directory-plus" aria-label="{{_ 'Install_package'}}">{{> icon icon="plus" }}</a>
			</div>
			{{/header}}
			<div class="rc-directory-content">
				<table class="rc-table">
					<thead class="rc-table-head">
						<tr class="rc-table-tr">
							<td class="rc-table-td js-sort" data-sort="name">Name {{> icon icon="sort" }}</td>
							<td class="rc-table-td js-sort" data-sort="usernames">Users {{> icon icon="sort" }}</td>
							<td class="rc-table-td js-sort" data-sort="createdAt">Created At {{> icon icon="sort" }}</td>
						</tr>
					</thead>
					<tbody class="rc-table-body">
						{{#each apps}}
							<tr class="rc-table-tr" data-name="{{name}}">
								<td class="rc-table-td rc-table-td--name">
									<div class="rc-directory-channel-wrapper">
										<div class="rc-directory-channel-avatar">{{> avatar username=name roomIcon="true"}}</div>
										<div class="rc-directory-channel-info">
											<span class="rc-directory-channel-name">
												{{>icon icon="hashtag"}}
												{{name}}
											</span>
											{{#if description}}
												<span class="rc-directory-channel-description">{{description}}</span>
											{{/if}}
										</div>
									</div>
								</td>
								<td class="rc-table-td rc-table-td--users">{{users}}</td>
								<td class="rc-table-td rc-table-td--createdAt">
									<span class="rc-directory-channel-createdAt">{{createdAt}}</span>
								</td>
							</tr>
						{{/each}}
					</tbody>
				</table>
			</div>
		</section>
	{{/requiresPermission}}
</template>
